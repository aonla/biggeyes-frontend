<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Register</title>
<style>
body{font-family:sans-serif;text-align:center}
input,button{width:90%;padding:12px;margin:10px}
button{background:#c2185b;color:#fff;border:none;border-radius:25px}
</style>
</head>
<body>

<h2>Register</h2>

<input id="username" placeholder="Username">
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<!-- ðŸ”´ type="button" VERY IMPORTANT -->
<button type="button" onclick="register()">Register</button>

<p id="msg"></p>

<script>
async function register(){
  const username=document.getElementById("username").value;
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;

  if(!username || !email || !password){
    document.getElementById("msg").innerText="All fields required";
    return;
  }

  document.getElementById("msg").innerText="Please wait...";

  try{
    const res=await fetch("https://biggeyes.onrender.com/api/auth/register",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({username,email,password})
    });

    const data=await res.json();
    document.getElementById("msg").innerText=data.message;

    if(data.success){
      localStorage.setItem("reg_email",email);
      window.location.href="verify-otp.html";
    }
  }catch(err){
    document.getElementById("msg").innerText="Server error";
  }
}
</script>

</body>
</html>
